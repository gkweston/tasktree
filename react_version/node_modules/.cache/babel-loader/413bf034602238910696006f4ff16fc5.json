{"ast":null,"code":"var _jsxFileName = \"/Users/gkweston/Git/todo-436/src/components/Tasks/Task.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { SortableElement, sortableHandle } from 'react-sortable-hoc';\nimport { uniqueId } from 'lodash';\nimport { ListItem } from '@material-ui/core';\nimport { DragHandle, DeleteForever } from '@material-ui/icons';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { indentNode, unindentNode, updateNode, deleteNode, createNode } from '../../store/hierarchy/nodes';\nconst DraggableHandle = sortableHandle(() => /*#__PURE__*/React.createElement(DragHandle, {\n  style: {\n    cursor: 'grab'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 3\n  }\n}));\n\n() => {};\n\nconst deleteSetScore = id => {\n  const score = localStorage.getItem('score');\n  var score_int = parseInt(score);\n  localStorage.setItem('score', parseInt(score) + 15);\n  deleteNode({\n    id\n  });\n};\n\nconst Task = _ref => {\n  let {\n    id,\n    parent,\n    data,\n    completed,\n    descendants,\n    ancestors,\n    depth,\n    createNode,\n    deleteNode,\n    indentNode,\n    unindentNode,\n    updateNode,\n    dragging,\n    left,\n    right\n  } = _ref;\n\n  const onKeyDownHandler = event => {\n    if (event.key === 'Tab' || event.key === 'Tab' && event.shiftKey) {\n      event.preventDefault();\n    }\n\n    if (event.key === 'Tab' && event.shiftKey) {\n      unindentNode({\n        id\n      });\n    } else if (event.key === 'Tab' && !event.shiftKey) {\n      indentNode({\n        id\n      });\n    }\n\n    if (event.key === 'Backspace' && data.text.length === 0) {\n      deleteNode({\n        id\n      });\n    }\n\n    if (event.key === 'Enter') {\n      const newId = uniqueId();\n      createNode({\n        id: newId,\n        parent: parent.id,\n        data: {\n          text: ''\n        }\n      });\n      setTimeout(() => {\n        document.querySelector(`#text-${newId}`).focus();\n      }, 50);\n    }\n\n    if (event.key === 'ArrowDown' && right) {\n      document.querySelector(`#text-${right.id}`).focus();\n    }\n\n    if (event.key === 'ArrowUp' && left) {\n      document.querySelector(`#text-${left.id}`).focus();\n    }\n  };\n\n  const textOnChange = event => {\n    updateNode({\n      id,\n      data: { ...data,\n        text: event.target.value\n      }\n    });\n  };\n\n  const checkOnChange = event => {\n    const toUpdate = [...descendants, id];\n    toUpdate.forEach(id => {\n      updateNode({\n        id,\n        completed: event.target.checked\n      });\n    });\n\n    if (parent.id !== 'root') {\n      ancestors.forEach(id => {\n        updateNode({\n          id,\n          completed: false\n        });\n      });\n    }\n  };\n\n  const opacity = dragging ? 0.7 : 1;\n  return /*#__PURE__*/React.createElement(ListItem, {\n    style: {\n      backgroundColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DraggableHandle, {\n    style: {\n      color: '#450B8F'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      width: '100%',\n      marginLeft: depth * 15,\n      opacity,\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: completed,\n    value: completed,\n    color: \"primary\" // Update score in local mem\n    ,\n    onChange: () => {\n      const score = localStorage.getItem('score');\n      var score_int = parseInt(score);\n      localStorage.setItem('score', parseInt(score) + 15);\n      deleteNode({\n        id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    color: \"primary\",\n    id: `text-${id}`,\n    fullWidth: true,\n    margin: \"normal\",\n    onKeyDown: onKeyDownHandler,\n    onChange: textOnChange,\n    value: data.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DeleteForever, {\n    color: \"primary\",\n    style: {\n      alignSelf: 'center',\n      cursor: 'pointer'\n    },\n    onClick: () => deleteNode({\n      id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    indentNode: payload => dispatch(indentNode('tasks', payload)),\n    unindentNode: payload => dispatch(unindentNode('tasks', payload)),\n    updateNode: payload => dispatch(updateNode('tasks', payload)),\n    deleteNode: payload => dispatch(deleteNode('tasks', payload)),\n    createNode: payload => dispatch(createNode('tasks', payload))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(SortableElement(Task));","map":{"version":3,"sources":["/Users/gkweston/Git/todo-436/src/components/Tasks/Task.js"],"names":["React","connect","SortableElement","sortableHandle","uniqueId","ListItem","DragHandle","DeleteForever","TextField","Checkbox","indentNode","unindentNode","updateNode","deleteNode","createNode","DraggableHandle","cursor","deleteSetScore","id","score","localStorage","getItem","score_int","parseInt","setItem","Task","parent","data","completed","descendants","ancestors","depth","dragging","left","right","onKeyDownHandler","event","key","shiftKey","preventDefault","text","length","newId","setTimeout","document","querySelector","focus","textOnChange","target","value","checkOnChange","toUpdate","forEach","checked","opacity","backgroundColor","color","width","marginLeft","display","flexDirection","alignSelf","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { SortableElement, sortableHandle } from 'react-sortable-hoc';\nimport { uniqueId } from 'lodash';\nimport { ListItem } from '@material-ui/core';\nimport { DragHandle, DeleteForever } from '@material-ui/icons';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {\n  indentNode,\n  unindentNode,\n  updateNode,\n  deleteNode,\n  createNode\n} from '../../store/hierarchy/nodes';\n\nconst DraggableHandle = sortableHandle(() => (\n  <DragHandle style={{ cursor: 'grab' }} />\n));\n\n() => {\n\n}\n\nconst deleteSetScore = (id) => {\n    const score = localStorage.getItem('score')\n  var score_int = parseInt(score)\n  localStorage.setItem('score', parseInt(score) + 15)\n  deleteNode({ id })\n};\n\nconst Task = ({\n  id,\n  parent,\n  data,\n  completed,\n  descendants,\n  ancestors,\n  depth,\n  createNode,\n  deleteNode,\n  indentNode,\n  unindentNode,\n  updateNode,\n  dragging,\n  left,\n  right\n}) => {\n  const onKeyDownHandler = event => {\n    if (event.key === 'Tab' || (event.key === 'Tab' && event.shiftKey)) {\n      event.preventDefault();\n    }\n\n    if (event.key === 'Tab' && event.shiftKey) {\n      unindentNode({\n        id\n      });\n    } else if (event.key === 'Tab' && !event.shiftKey) {\n      indentNode({\n        id\n      });\n    }\n\n    if (event.key === 'Backspace' && data.text.length === 0) {\n      deleteNode({\n        id\n      });\n    }\n\n    if (event.key === 'Enter') {\n      const newId = uniqueId();\n      createNode({\n        id: newId,\n        parent: parent.id,\n        data: {\n          text: ''\n        }\n      });\n\n      setTimeout(() => {\n        document.querySelector(`#text-${newId}`).focus();\n      }, 50);\n    }\n\n    if (event.key === 'ArrowDown' && right) {\n      document.querySelector(`#text-${right.id}`).focus();\n    }\n\n    if (event.key === 'ArrowUp' && left) {\n      document.querySelector(`#text-${left.id}`).focus();\n    }\n  };\n\n  const textOnChange = event => {\n    updateNode({\n      id,\n      data: {\n        ...data,\n        text: event.target.value\n      }\n    });\n  };\n\n  const checkOnChange = event => {\n    const toUpdate = [...descendants, id];\n    toUpdate.forEach(id => {\n      updateNode({\n        id,\n        completed: event.target.checked\n      });\n    });\n\n    if (parent.id !== 'root') {\n      ancestors.forEach(id => {\n        updateNode({\n          id,\n          completed: false\n        });\n      });\n    }\n  };\n\n  const opacity = dragging ? 0.7 : 1;\n\n  return (\n    <ListItem style={{ backgroundColor: 'white' }}>\n      <DraggableHandle style={{ color:'#450B8F' }} />\n      <span\n        style={{\n          width: '100%',\n          marginLeft: depth * 15,\n          opacity,\n          display: 'flex',\n          flexDirection: 'row'\n        }}\n      >\n        <Checkbox\n          checked={completed}\n          value={completed}\n          color='primary'\n          // Update score in local mem\n          onChange = { () => {\n            const score = localStorage.getItem('score')\n            var score_int = parseInt(score)\n            localStorage.setItem('score', parseInt(score) + 15)\n            deleteNode({ id })\n          }}\n        />\n        <TextField\n          color = 'primary'\n          id={`text-${id}`}\n          fullWidth\n          margin='normal'\n          onKeyDown={onKeyDownHandler}\n          onChange={textOnChange}\n          value={data.text}\n        />\n        <DeleteForever\n          color='primary'\n          style={{ alignSelf: 'center', cursor: 'pointer' }}\n          onClick={() => deleteNode({ id })}\n        />\n      </span>\n    </ListItem>\n  );\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    indentNode: payload => dispatch(indentNode('tasks', payload)),\n    unindentNode: payload => dispatch(unindentNode('tasks', payload)),\n    updateNode: payload => dispatch(updateNode('tasks', payload)),\n    deleteNode: payload => dispatch(deleteNode('tasks', payload)),\n    createNode: payload => dispatch(createNode('tasks', payload))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(SortableElement(Task));\n"]},"metadata":{},"sourceType":"module"}